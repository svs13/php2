1 Напишите класс базового контроллера.
Добавьте в него метод-диспетчер вызова действия.
Этот метод должен делать следующее:
- Вызвать метод access() контроллера. Если получен результат false - вывести сообщение "Доступ закрыт" и прекратить работу
- Вызвать действие

Что такое диспетчер:
Диспетчер (англ. dispatcher от англ. to dispatch — отсылать, отправлять) — должностное лицо, отвечающее за
координацию каких-либо действий в определённой сфере. Отличительным свойством является стекание к диспетчеру
с периферии большого объёма информации, которая структурируется, перерабатывается и далее передаётся
в нужных направлениях.

Т.к. действие у каждого контроллера одно (action), всегда в методе-диспетчере вызываем его.
Сделано


2 Создайте контроллеры для клиентских страниц новостей ("все новости", "одна новость") и
для админ-панели ("все новости", "редактирование", "сохранение")

По ответам на вопросы из чата рекомендовано контроллеру "все новости" дать имя Index, "одна новость" - Article
id новости получаем из GET запроса клиента.

Сделано


3 Продумайте систему адресов.
Например так: index.php?ctrl=CTRL&act=ACT, где СTRL - имя контроллера, ACT - имя экшна.
Напишите фронт-контроллер в соответствии с этой системой адресов.

act не используем, согласно ответу, если для контроллера act всегда один, смысла его писать нет.

система адресов index.php?ctrl=CTRL

в фронт-контроллере надо как-то обработать ошибочный запрос. Для этого надо иметь список доступных контроллеров.
т.к. они (классы контроллеров) подгружаются только при использовании, то логично эту проверку сделать:
- либо задав массив имён доступных имён контроллеров
- либо получать список файлов директории и проверять вхождение запроса в этот этот список
- либо по имени контроллера проверять доступность файла контроллера
Т.к. контроллеров в приложении не много - делаю проще - задаю массив имён.

Сделано. Проверено. Фронт-контроллер работает


4 Подумайте - не сделать ли для админ-панели другую точку входа?
А может быть другой базовый контроллер?
Если решите, что это обоснованно - сделайте.

Чтобы отделить админ-панель от запросов пользователей:
- Логично сделать отдельную точку входа: admin.php?ctrl=CTRL
- Логично использовать отдельный базовый контроллер с авторизацией и от него наследоваться

Чтобы из под index.php не загружать контроллеры админ панели - как раз и применяем тот массив
доступных имён контроллеров в фронт-контроллере (п.3)

Контроллеры админ-панели вынесу в отдельное пространство имён \App\Controllers\AdminPanel
Наследую их от базового контроллера админ панели, в котором переопределяется метод access() - т.е. задаётся
"другой" доступ к админ панели.

Сделано. Проверено.

Код фонт-контроллера:
<?php

require __DIR__ . '/autoload.php';

//доступные имена контроллеров
$ctrlNames = ['Index', 'Article'];

$ctrlName = $_GET['ctrl'] ?? $ctrlNames[0];

if ( !in_array($ctrlName, $ctrlNames) ) {

    header('Location: /homework4/' . $ctrlNames[0] . '.php');
}

$class = '\App\Controllers\\' . $ctrlName;

/**
 * @var \App\Controller $ctrl
 */
$ctrl = new $class;
$ctrl->dispatch();


5 * Создайте систему ЧПУ.
Адрес вида /XXX/YYY/ZZZ должен транслироваться в контроллер XXX\YYY
(вложенность пространств имен неограничена) и действие ZZZ

Действие ZZZ может быть не задано.
Здесь необходимо перенаправлять все запросы в точку входа. Выставил сервер Apache и добавил .htaccess.
Создаю отдельный объект - Router для получения нужного контроллера и его действия
В случае ошибки запроса - перенаправляю  в корень сайта.

Сделано.

Изменяю шаблоны в соответствии с системой адресов /XXX/YYY/ZZZ

Редактирование от 15.08.18
1. Описание св-ва id класса Model сделал публичным. Удалил метод getId()
2. Изменил шаблон index.php, adminPanel/index.php, adminPanel/editing.php
3. Проверил работоспособность
4. Удалил из Model мусор

Редактирование от 17.08.18 (по ошибкам дз-2)
1. /App/Config.php изменил имя с $config на $instance.
2. /App/Model.php delete() - удалено очищение свойств.
3. В /App/Controllers/Save.php выполнял 2 разных действия: сохранение и удаление. Разбил на части.
- добавлен контроллер Delete, добавлен шаблон delete
- изменён контроллер Save, Editing
- изменён шаблон index, editing, save
4. Добавил в /App/Models/Article.php __isset() return false
Проверил работоспособность.

Редакактирование от 17.08.18
1. Изменён PHPDoc шаблонов save, delete
